---
import ContentText from "./ContentText.astro";
import ContentCard from "./ContentCard.astro";
import ContentImageText from "./ContentImageText.astro";

import type { ContentFormat, ContentPropsMap } from "@/types";

export type ContentProps<T extends ContentFormat> = ContentPropsMap[T];

const ContentComponent = (() => {
  switch (Astro.props.type) {
    case "card":
      return ContentCard;
    case "image-text":
      return ContentImageText;
    case "text-image":
      return ContentImageText;
    case "text":
      return ContentText;
    default:
      return ContentText;
  }
})();
---

<ContentComponent {...Astro.props as ContentProps<typeof Astro.props.type>} />
